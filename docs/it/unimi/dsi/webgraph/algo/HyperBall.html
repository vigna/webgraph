<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (12.0.1) on Wed Jun 04 17:01:27 CEST 2025 -->
<title>HyperBall (WebGraph 3.6.11)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-06-04">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="HyperBall (WebGraph 3.6.11)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":9,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":9,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">it.unimi.dsi.webgraph.algo</a></div>
<h2 title="Class HyperBall" class="title">Class HyperBall</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true" title="class or interface in it.unimi.dsi.util" class="externalLink">it.unimi.dsi.util.HyperLogLogCounterArray</a></li>
<li>
<ul class="inheritance">
<li>it.unimi.dsi.webgraph.algo.HyperBall</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/io/SafelyCloseable.html?is-external=true" title="class or interface in it.unimi.dsi.io" class="externalLink">SafelyCloseable</a></code>, <code>java.io.Closeable</code>, <code>java.io.Serializable</code>, <code>java.lang.AutoCloseable</code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">HyperBall</span>
extends <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true" title="class or interface in it.unimi.dsi.util" class="externalLink">HyperLogLogCounterArray</a>
implements <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/io/SafelyCloseable.html?is-external=true" title="class or interface in it.unimi.dsi.io" class="externalLink">SafelyCloseable</a></pre>
<div class="block"><p>Computes an approximation of the neighbourhood function, of the size of the reachable sets,
 and of (discounted) positive geometric centralities of a graph using HyperBall.

 <p>HyperBall is an algorithm computing by dynamic programming an approximation
 of the sizes of the balls of growing radius around the nodes of a graph. Starting from
 these data, it can approximate the <em>neighbourhood function</em> of a graph, that is, the function returning
 for each <var>t</var> the number of pairs of nodes at distance at most <var>t</var>,
 the number of nodes reachable from each node, Bavelas's closeness centrality, Lin's index, and
 <em>harmonic centrality</em> (studied by Paolo Boldi and Sebastiano Vigna in &ldquo;<a href="http://vigna.di.unimi.it/papers.php#BoVAC">Axioms for Centrality</a>&rdquo;, <i>Internet Math.</i>,
 10(3-4):222&minus;262, 2014).
 HyperBall can also compute <em>discounted centralities</em>, in which the <em>discount</em> assigned to a node is some
 specified function of its distance. All centralities are computed in their <em>positive</em> version (i.e.,
 using distance <em>from</em> the source: see below how to compute the more usual, and useful, <em>negative</em> version).

 <p>HyperBall has been described by Paolo Boldi and Sebastiano Vigna in
 &ldquo;In-Core Computation of Geometric Centralities with HyperBall: A Hundred Billion Nodes and Beyond&rdquo;,
 <i>Proc. of 2013 IEEE 13th International Conference on Data Mining Workshops (ICDMW 2013)</i>, IEEE, 2013,
 and it is a generalization of the method described in &ldquo;HyperANF: Approximating the Neighbourhood Function of Very Large Graphs
 on a Budget&rdquo;, by Paolo Boldi, Marco Rosa and Sebastiano Vigna,
 <i>Proceedings of the 20th international conference on World Wide Web</i>, pages 625&minus;634, ACM, (2011).

 <p>Incidentally, HyperBall (actually, HyperANF) has been used to show that Facebook has just <a href="http://vigna.di.unimi.it/papers.php#BBRFDS">four degrees of separation</a>.

 <p>At step <var>t</var>, for each node we (approximately) keep track (using <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true" title="class or interface in it.unimi.dsi.util" class="externalLink">HyperLogLog counters</a>)
 of the set of nodes at distance at most <var>t</var>. At each iteration, the sets associated with the successors of each node are merged,
 thus obtaining the new sets. A crucial component in making this process efficient and scalable is the usage of
 <em>broadword programming</em> to implement the join (merge) phase, which requires maximising in parallel the list of registers associated with
 each successor (the implementation is geared towards 64-bits processors).

 <p>Using the approximate sets, for each <var>t</var> we estimate the number of pairs of nodes (<var>x</var>,<var>y</var>) such
 that the distance from <var>x</var> to <var>y</var> is at most <var>t</var>. Since during the computation we are also
 in possession of the number of nodes at distance <var>t</var> &minus; 1, we can also perform computations
 using the number of nodes at distance <em>exactly</em> <var>t</var> (e.g., centralities).

 <p>To use this class, you must first create an instance.
 Then, you call <a href="#init()"><code>init()</code></a> (once) and then <a href="#iterate()"><code>iterate()</code></a> as much as needed (you can init/iterate several times, if you want so).
 A <a href="#run(long,double)">commodity method</a> will do everything for you.
 Finally, you <strong>must</strong> <a href="#close()"><code>close()</code></a> the instance. The method <a href="#modified()"><code>modified()</code></a> will tell you whether the internal state of
 the algorithm has changed.

 <p>If you additionally pass to the constructor (or on the command line) the <em>transpose</em> of your graph (you can compute it using <a href="../Transform.html#transposeOffline(it.unimi.dsi.webgraph.ImmutableGraph,int)"><code>Transform.transposeOffline(ImmutableGraph,int)</code></a>
 or <a href="../Transform.html#transposeOffline(it.unimi.dsi.webgraph.ImmutableGraph,int)"><code>Transform.transposeOffline(ImmutableGraph, int)</code></a>), when three quarters of the nodes stop changing their value
 HyperBall will switch to a <em>systolic</em> computation: using the transpose, when a node changes it will signal back
 to its predecessors that at the next iteration they could change. At the next scan, only the successors of
 signalled nodes will be scanned. In particular,
 when a very small number of nodes is modified by an iteration, HyperBall will switch to a systolic <em>local</em> mode,
 in which all information about modified nodes is kept in (traditional) dictionaries, rather than being represented as arrays of booleans.
 This strategy makes the last phases of the computation orders of magnitude faster, and makes
 in practice the running time of HyperBall proportional to the theoretical bound
 <i>O</i>(<var>m</var> log <var>n</var>), where <var>n</var>
 is the number of nodes and <var>m</var> is the number of the arcs of the graph. Note that
 graphs with a large diameter require a correspondingly large number of iterations, and these iterations will have to
 pass over all nodes if you do not provide the tranpose.

 <p>Deciding when to stop iterating is a rather delicate issue. The only safe way is to iterate until <a href="#modified()"><code>modified()</code></a> is zero,
 and systolic (local) computation makes this goal easily attainable.
 However, in some cases one can assume that the graph is not pathological, and stop when the relative increment of the number of pairs goes below
 some threshold.

 <h2>Computing Centralities</h2>

 <p>Note that usually one is interested in the <em>negative</em> version of a centrality measure, that is, the version
 that depends on the <em>incoming</em> arcs. HyperBall can compute only <em>positive</em> centralities: if you are
 interested (as it usually happens) in the negative version, you must pass to HyperBall the <em>transpose</em> of the graph
 (and if you want to run in systolic mode, the original graph, which is the transpose of the transpose). Note that the
 neighbourhood function of the transpose is identical to the neighbourhood function of the original graph, so the exchange
 does not alter its computation.

 <h2>Node weights</h2>

 <p>HyperBall can manage to a certain extent a notion of <em>node weight</em> in its computation of centralities. Weights must
 be nonnegative integers, and the initialization phase requires generating a random integer for each unit of overall
 weight, as weight are simulated by loading the counter of a node with multiple elements. Combining this feature
 with discounts, one can compute <em>discounted-gain centralities</em> as defined in the HyperBall paper.

 <h2>Configuring the JVM</h2>

 <p>HyperBall computations go against all basic assumptions of Java garbage collection. It is thus
 essential that you reconfigure your JVM properly. A good starting point is the following command line:
 <pre>
 java -server -Xss256K -Xms100G -XX:PretenureSizeThreshold=512M -XX:MaxNewSize=4G \
      -XX:+UseNUMA -XX:+UseTLAB -XX:+ResizeTLAB \
      -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=99 -XX:+UseCMSInitiatingOccupancyOnly \
      -verbose:gc -Xloggc:gc.log ...
 </pre>

 <ul>
 <li><code>-Xss256K</code> reduces the stack memory used by each thread.
 <li><code>-Xms100G</code> size the heap: the more memory, the more counter per registers
 you can use (the amount, of course, depends on your hardware); please note that we set the
 <em>starting</em> heap size as expansion of large heaps is very expensive.
 <li><code>-XX:PretenureSizeThreshold=512M</code> forces the allocation of registers directly into the old generation.
 <li><code>-XX:MaxNewSize=4G</code> leaves almost all memory for the old generation.
 <li><code>-XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=99 -XX:+UseCMSInitiatingOccupancyOnly</code>
 set the concurrent garbage collector, and impose that no collection is performed until 99% of the permanent
 generation is filled.
 <li><code>-XX:+UseNUMA -XX:+UseTLAB -XX:+ResizeTLAB</code> usually improve performance, but your mileage may vary.
 </ul>
 <p>Check the garbage collector logs (<code>gc.log</code>) to be sure that your
 minor and major collections are very infrequent (as they should be).

 <h2>Performance issues</h2>

 <p>To use HyperBall effectively, you should aim at filling a large percentage of the available core memory. This requires,
 of course, to size properly the heap, but also to configure some parameters.

 <p>Most of the memory goes into storing HyperLogLog registers. By tuning the number of registers per counter, you can
 modify the memory allocated for them. The amount of memory is logged, and you should check that the number of registers you
 chose almost fills up the heap memory you allocated, possibly leaving space for the graph(s) (but read below).
 Note that you can only choose a number of registers per counter that is
 a power of two, so your latitude in adjusting the memory used for registers is somewhat limited.

 <p>If you have little memory, this class can perform <em>external</em> computations: instead of keeping in core memory
 an old and a new copy of the counters, it can dump on disk an <em>update list</em> containing pairs &lt;<var>node</var>,&nbsp;<var>counter</var>&gt;.
 At the end of an iteration, the update list is loaded and applied to the counters in memory.
 The process is of course slower, but the core memory used is halved.

 <p>Then, some memory is necessary to load the graph (and possibly its tranpose). We suggest to check the offline
 option, which will map the graph into memory, rather than loading it. If you map the graph into memory, take care of
 leaving some free memory, beside that allocated for the heap, as the operating system will need some space to buffer
 the memory-mapped graph(s).

 <p>If there are several available cores, the runs of <a href="#iterate()"><code>iterate()</code></a> will be <em>decomposed</em> into relatively
 small tasks (small blocks of nodes) and each task will be assigned to the first available core. Since all tasks are completely
 independent, this behaviour ensures a very high degree of parallelism. Be careful, however, because this feature requires a graph with
 a reasonably fast random access (e.g., in the case of a <a href="../BVGraph.html" title="class in it.unimi.dsi.webgraph"><code>BVGraph</code></a>, short reference chains), as many
 calls to <a href="../ImmutableGraph.html#nodeIterator(int)"><code>ImmutableGraph.nodeIterator(int)</code></a> will be made. The <em>granularity</em> of the decomposition
 is the number of nodes assigned to each task.

 <p>In any case, when attacking very large graphs (in particular, in external mode) some system tuning (e.g.,
 increasing the filesystem commit time) is a good idea. Also experimenting with granularity and buffer sizes
 can be useful. Smaller buffers reduce the waits on I/O calls, but increase the time spent in disk seeks.
 Large buffers improve I/O, but they use a lot of memory. The best possible setup is the one in which
 the cores are 100% busy during the graph scan, and the I/O time
 logged at the end of a scan is roughly equal to the time that is necessary to reload the counters from disk:
 in such a case, essentially, you are computing as fast as possible.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Sebastiano Vigna, Paolo Boldi, Marco Rosa</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../serialized-form.html#it.unimi.dsi.webgraph.algo.HyperBall">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<div class="memberSummary">
<table>
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="HyperBall.AbstractDiscountFunction.html" title="class in it.unimi.dsi.webgraph.algo">HyperBall.AbstractDiscountFunction</a></span></code></th>
<td class="colLast">
<div class="block">An abstract discount function is a facility to implement a discount function (so that only
  the <a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/ints/Int2DoubleFunction.html?is-external=true#get(int)" title="class or interface in it.unimi.dsi.fastutil.ints" class="externalLink"><code>Int2DoubleFunction.get(int)</code></a> method must be actually implemented).</div>
</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#adaptiveGranularity">adaptiveGranularity</a></span></code></th>
<td class="colLast">
<div class="block">The number of nodes per task (obtained by adapting <a href="#granularity"><code>granularity</code></a> to the current ratio of modified nodes).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#aliveThreads">aliveThreads</a></span></code></th>
<td class="colLast">
<div class="block">A variable used to wait for all threads to complete their iteration.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.concurrent.locks.Condition</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#allWaiting">allWaiting</a></span></code></th>
<td class="colLast">
<div class="block">A condition that is notified when all iteration threads are waiting to be started.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.concurrent.atomic.AtomicLong</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#arcs">arcs</a></span></code></th>
<td class="colLast">
<div class="block">An atomic integer keeping track of the number of arcs processed so far.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ASSERTS">ASSERTS</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bufferSize">bufferSize</a></span></code></th>
<td class="colLast">
<div class="block">The size of an I/O buffer, in counters.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#closed">closed</a></span></code></th>
<td class="colLast">
<div class="block">Whether this approximator has been already closed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#completed">completed</a></span></code></th>
<td class="colLast">
<div class="block">True if the computation is over.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="EliasFanoCumulativeOutdegreeList.html" title="class in it.unimi.dsi.webgraph.algo">EliasFanoCumulativeOutdegreeList</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cumulativeOutdegrees">cumulativeOutdegrees</a></span></code></th>
<td class="colLast">
<div class="block">The cumulative list of outdegrees.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#current">current</a></span></code></th>
<td class="colLast">
<div class="block">The value computed by the current iteration.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_BUFFER_SIZE">DEFAULT_BUFFER_SIZE</a></span></code></th>
<td class="colLast">
<div class="block">The default size of a buffer in bytes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_GRANULARITY">DEFAULT_GRANULARITY</a></span></code></th>
<td class="colLast">
<div class="block">The default granularity of a task.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>float[][]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#discountedCentrality">discountedCentrality</a></span></code></th>
<td class="colLast">
<div class="block">The overall discounted centrality, for every <a href="#discountFunction"><code>discountFunction</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/ints/Int2DoubleFunction.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.ints" class="externalLink">Int2DoubleFunction</a>[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#discountFunction">discountFunction</a></span></code></th>
<td class="colLast">
<div class="block">A number of discounted centralities to be computed, possibly none.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doSumOfDistances">doSumOfDistances</a></span></code></th>
<td class="colLast">
<div class="block">Whether the sum of distances from each node (inverse of <strong>positive</strong> closeness centrality) should be computed; if false, <a href="#sumOfDistances"><code>sumOfDistances</code></a> is <code>null</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doSumOfInverseDistances">doSumOfInverseDistances</a></span></code></th>
<td class="colLast">
<div class="block">Whether the sum of inverse distances from each node (<strong>positive</strong> harmonic centrality) should be computed; if false, <a href="#sumOfInverseDistances"><code>sumOfInverseDistances</code></a> is <code>null</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#external">external</a></span></code></th>
<td class="colLast">
<div class="block">Whether we should used an update list on disk, instead of computing results in core memory.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.nio.channels.FileChannel</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fileChannel">fileChannel</a></span></code></th>
<td class="colLast">
<div class="block">If <a href="#external"><code>external</code></a> is true, a file channel used to write to the update list.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#gotTranspose">gotTranspose</a></span></code></th>
<td class="colLast">
<div class="block">True if we have the transpose graph.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#granularity">granularity</a></span></code></th>
<td class="colLast">
<div class="block">The number of actually scanned nodes per task in a multithreaded environment.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/ints/Int2DoubleFunction.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.ints" class="externalLink">Int2DoubleFunction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#INV_LOG_DISCOUNT">INV_LOG_DISCOUNT</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/ints/Int2DoubleFunction.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.ints" class="externalLink">Int2DoubleFunction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#INV_SQUARE_DISCOUNT">INV_SQUARE_DISCOUNT</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#iteration">iteration</a></span></code></th>
<td class="colLast">
<div class="block">The current iteration.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#last">last</a></span></code></th>
<td class="colLast">
<div class="block">The value computed by the last iteration.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#local">local</a></span></code></th>
<td class="colLast">
<div class="block">True if we started a local computation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#localCheckList">localCheckList</a></span></code></th>
<td class="colLast">
<div class="block">If <a href="#local"><code>local</code></a> is true, the sorted list of nodes that should be scanned.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/ints/IntSet.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.ints" class="externalLink">IntSet</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#localNextMustBeChecked">localNextMustBeChecked</a></span></code></th>
<td class="colLast">
<div class="block">If <a href="#preLocal"><code>preLocal</code></a> is true, the set of nodes that should be scanned on the next iteration.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.concurrent.locks.ReentrantLock</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lock">lock</a></span></code></th>
<td class="colLast">
<div class="block">The lock protecting all critical sections.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.concurrent.atomic.AtomicInteger</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#modified">modified</a></span></code></th>
<td class="colLast">
<div class="block">The number of register modified by the last call to <a href="#iterate()"><code>iterate()</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#modifiedCounter">modifiedCounter</a></span></code></th>
<td class="colLast">
<div class="block">For each counter, whether it has changed its value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#modifiedResultCounter">modifiedResultCounter</a></span></code></th>
<td class="colLast">
<div class="block">For each newly computed counter, whether it has changed its value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mustBeChecked">mustBeChecked</a></span></code></th>
<td class="colLast">
<div class="block">For each newly computed counter, whether it has changed its value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/doubles/DoubleArrayList.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.doubles" class="externalLink">DoubleArrayList</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#neighbourhoodFunction">neighbourhoodFunction</a></span></code></th>
<td class="colLast">
<div class="block">The neighbourhood function, if requested.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#nextArcs">nextArcs</a></span></code></th>
<td class="colLast">
<div class="block">The number of arcs before <a href="#nextNode"><code>nextNode</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#nextMustBeChecked">nextMustBeChecked</a></span></code></th>
<td class="colLast">
<div class="block">For each counter, whether it has changed its value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#nextNode">nextNode</a></span></code></th>
<td class="colLast">
<div class="block">The starting node of the next chunk of nodes to be processed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.concurrent.atomic.AtomicInteger</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#nodes">nodes</a></span></code></th>
<td class="colLast">
<div class="block">An atomic integer keeping track of the number of node processed so far.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#numArcs">numArcs</a></span></code></th>
<td class="colLast">
<div class="block">The number of arcs of the graph, cached.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#numberOfThreads">numberOfThreads</a></span></code></th>
<td class="colLast">
<div class="block">The number of cores used in the computation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#numberOfWrites">numberOfWrites</a></span></code></th>
<td class="colLast">
<div class="block">Total number of write operation performed on <a href="#fileChannel"><code>fileChannel</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#numNodes">numNodes</a></span></code></th>
<td class="colLast">
<div class="block">The number of nodes of the graph, cached.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#phase">phase</a></span></code></th>
<td class="colLast">
<div class="block">The current computation phase.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html?is-external=true" title="class or interface in it.unimi.dsi.logging" class="externalLink">ProgressLogger</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#pl">pl</a></span></code></th>
<td class="colLast">
<div class="block">A progress logger, or <code>null</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#preLocal">preLocal</a></span></code></th>
<td class="colLast">
<div class="block">True if we are preparing a local computation (we are <a href="#systolic"><code>systolic</code></a> and less than 1% nodes were modified).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.io.RandomAccessFile</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#randomAccessFile">randomAccessFile</a></span></code></th>
<td class="colLast">
<div class="block">If <a href="#external"><code>external</code></a> is true, the random-access file underlying <a href="#fileChannel"><code>fileChannel</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#relativeIncrement">relativeIncrement</a></span></code></th>
<td class="colLast">
<div class="block">The relative increment of the neighbourhood function for the last iteration.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long[][]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resultBits">resultBits</a></span></code></th>
<td class="colLast">
<div class="block">If <a href="#external"><code>external</code></a> is false, the arrays where results are stored.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/longs/LongBigList.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.longs" class="externalLink">LongBigList</a>[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#resultRegisters">resultRegisters</a></span></code></th>
<td class="colLast">
<div class="block">If <a href="#external"><code>external</code></a> is false, a <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#registerSize" title="class or interface in it.unimi.dsi.util" class="externalLink"><code>HyperLogLogCounterArray.registerSize</code></a>-bit views of <a href="#resultBits"><code>resultBits</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#squareNumNodes">squareNumNodes</a></span></code></th>
<td class="colLast">
<div class="block">The square of <a href="#numNodes"><code>numNodes</code></a>, cached.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.concurrent.locks.Condition</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#start">start</a></span></code></th>
<td class="colLast">
<div class="block">The condition on which all iteration threads wait before starting a new phase.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>float[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sumOfDistances">sumOfDistances</a></span></code></th>
<td class="colLast">
<div class="block">The sum of the distances from every given node, if requested.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>float[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sumOfInverseDistances">sumOfInverseDistances</a></span></code></th>
<td class="colLast">
<div class="block">The sum of inverse distances from each given node, if requested.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#systolic">systolic</a></span></code></th>
<td class="colLast">
<div class="block">True if we started a systolic computation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected it.unimi.dsi.webgraph.algo.HyperBall.IterationThread[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#thread">thread</a></span></code></th>
<td class="colLast">
<div class="block">The threads performing the computation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.Throwable</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#threadThrowable">threadThrowable</a></span></code></th>
<td class="colLast">
<div class="block">One of the throwables thrown by some of the threads, if at least one thread has thrown a throwable.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#totalIoMillis">totalIoMillis</a></span></code></th>
<td class="colLast">
<div class="block">Total wait time in milliseconds of I/O activity on <a href="#fileChannel"><code>fileChannel</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.concurrent.atomic.AtomicInteger</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unwritten">unwritten</a></span></code></th>
<td class="colLast">
<div class="block">Counts the number of unwritten entries when <a href="#external"><code>external</code></a> is true, or
 the number of counters that did not change their value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.io.File</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateFile">updateFile</a></span></code></th>
<td class="colLast">
<div class="block">If <a href="#external"><code>external</code></a> is true, the name of the temporary file that will be used to write the update list.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#weight">weight</a></span></code></th>
<td class="colLast">
<div class="block">An array of nonnegative node weights, or <code>null</code>.</div>
</td>
</tr>
</tbody>
</table>
</div>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.it.unimi.dsi.util.HyperLogLogCounterArray">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;it.unimi.dsi.util.<a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true" title="class or interface in it.unimi.dsi.util" class="externalLink">HyperLogLogCounterArray</a></h3>
<code><a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#bits" title="class or interface in it.unimi.dsi.util" class="externalLink">bits</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#CHUNK_MASK" title="class or interface in it.unimi.dsi.util" class="externalLink">CHUNK_MASK</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#CHUNK_SHIFT" title="class or interface in it.unimi.dsi.util" class="externalLink">CHUNK_SHIFT</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#CHUNK_SIZE" title="class or interface in it.unimi.dsi.util" class="externalLink">CHUNK_SIZE</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#counterLongwords" title="class or interface in it.unimi.dsi.util" class="externalLink">counterLongwords</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#counterResidualMask" title="class or interface in it.unimi.dsi.util" class="externalLink">counterResidualMask</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#counterShift" title="class or interface in it.unimi.dsi.util" class="externalLink">counterShift</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#counterSize" title="class or interface in it.unimi.dsi.util" class="externalLink">counterSize</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#log2m" title="class or interface in it.unimi.dsi.util" class="externalLink">log2m</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#longwordAligned" title="class or interface in it.unimi.dsi.util" class="externalLink">longwordAligned</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#lsbMask" title="class or interface in it.unimi.dsi.util" class="externalLink">lsbMask</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#m" title="class or interface in it.unimi.dsi.util" class="externalLink">m</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#mMinus1" title="class or interface in it.unimi.dsi.util" class="externalLink">mMinus1</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#msbMask" title="class or interface in it.unimi.dsi.util" class="externalLink">msbMask</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#registers" title="class or interface in it.unimi.dsi.util" class="externalLink">registers</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#registerSize" title="class or interface in it.unimi.dsi.util" class="externalLink">registerSize</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#seed" title="class or interface in it.unimi.dsi.util" class="externalLink">seed</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(it.unimi.dsi.webgraph.ImmutableGraph,int)">HyperBall</a></span>&#8203;(<a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;g,
         int&nbsp;log2m)</code></th>
<td class="colLast">
<div class="block">Creates a new HyperBall instance using default values and disabling systolic computation.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(it.unimi.dsi.webgraph.ImmutableGraph,int,long)">HyperBall</a></span>&#8203;(<a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;g,
         int&nbsp;log2m,
         long&nbsp;seed)</code></th>
<td class="colLast">
<div class="block">Creates a new HyperBall instance using default values and disabling systolic computation.</div>
</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(it.unimi.dsi.webgraph.ImmutableGraph,int,it.unimi.dsi.logging.ProgressLogger)">HyperBall</a></span>&#8203;(<a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;g,
         int&nbsp;log2m,
         <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html?is-external=true" title="class or interface in it.unimi.dsi.logging" class="externalLink">ProgressLogger</a>&nbsp;pl)</code></th>
<td class="colLast">
<div class="block">Creates a new HyperBall instance using default values and disabling systolic computation.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(it.unimi.dsi.webgraph.ImmutableGraph,it.unimi.dsi.webgraph.ImmutableGraph,int)">HyperBall</a></span>&#8203;(<a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;g,
         <a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;gt,
         int&nbsp;log2m)</code></th>
<td class="colLast">
<div class="block">Creates a new HyperBall instance using default values.</div>
</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(it.unimi.dsi.webgraph.ImmutableGraph,it.unimi.dsi.webgraph.ImmutableGraph,int,it.unimi.dsi.logging.ProgressLogger)">HyperBall</a></span>&#8203;(<a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;g,
         <a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;gt,
         int&nbsp;log2m,
         <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html?is-external=true" title="class or interface in it.unimi.dsi.logging" class="externalLink">ProgressLogger</a>&nbsp;pl)</code></th>
<td class="colLast">
<div class="block">Creates a new HyperBall instance using default values.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(it.unimi.dsi.webgraph.ImmutableGraph,it.unimi.dsi.webgraph.ImmutableGraph,int,it.unimi.dsi.logging.ProgressLogger,int,int,int,boolean)">HyperBall</a></span>&#8203;(<a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;g,
         <a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;gt,
         int&nbsp;log2m,
         <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html?is-external=true" title="class or interface in it.unimi.dsi.logging" class="externalLink">ProgressLogger</a>&nbsp;pl,
         int&nbsp;numberOfThreads,
         int&nbsp;bufferSize,
         int&nbsp;granularity,
         boolean&nbsp;external)</code></th>
<td class="colLast">
<div class="block">Creates a new HyperBall instance.</div>
</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(it.unimi.dsi.webgraph.ImmutableGraph,it.unimi.dsi.webgraph.ImmutableGraph,int,it.unimi.dsi.logging.ProgressLogger,int,int,int,boolean,boolean,boolean,it.unimi.dsi.fastutil.ints.Int2DoubleFunction%5B%5D,int%5B%5D,long)">HyperBall</a></span>&#8203;(<a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;g,
         <a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;gt,
         int&nbsp;log2m,
         <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html?is-external=true" title="class or interface in it.unimi.dsi.logging" class="externalLink">ProgressLogger</a>&nbsp;pl,
         int&nbsp;numberOfThreads,
         int&nbsp;bufferSize,
         int&nbsp;granularity,
         boolean&nbsp;external,
         boolean&nbsp;doSumOfDistances,
         boolean&nbsp;doSumOfInverseDistances,
         <a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/ints/Int2DoubleFunction.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.ints" class="externalLink">Int2DoubleFunction</a>[]&nbsp;discountFunction,
         int[]&nbsp;weight,
         long&nbsp;seed)</code></th>
<td class="colLast">
<div class="block">Creates a new HyperBall instance.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(it.unimi.dsi.webgraph.ImmutableGraph,it.unimi.dsi.webgraph.ImmutableGraph,int,it.unimi.dsi.logging.ProgressLogger,int,int,int,boolean,boolean,boolean,it.unimi.dsi.fastutil.ints.Int2DoubleFunction%5B%5D,long)">HyperBall</a></span>&#8203;(<a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;g,
         <a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;gt,
         int&nbsp;log2m,
         <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html?is-external=true" title="class or interface in it.unimi.dsi.logging" class="externalLink">ProgressLogger</a>&nbsp;pl,
         int&nbsp;numberOfThreads,
         int&nbsp;bufferSize,
         int&nbsp;granularity,
         boolean&nbsp;external,
         boolean&nbsp;doSumOfDistances,
         boolean&nbsp;doSumOfInverseDistances,
         <a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/ints/Int2DoubleFunction.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.ints" class="externalLink">Int2DoubleFunction</a>[]&nbsp;discountFunction,
         long&nbsp;seed)</code></th>
<td class="colLast">
<div class="block">Creates a new HyperBall instance without weights.</div>
</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="tableTab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>protected static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ensureRegisters(int)">ensureRegisters</a></span>&#8203;(int&nbsp;log2m)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>long[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#expand(long%5B%5D)">expand</a></span>&#8203;(long[]&nbsp;bits)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#finalize()">finalize</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#init()">init</a></span>()</code></th>
<td class="colLast">
<div class="block">Initialises the approximator.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#init(long)">init</a></span>&#8203;(long&nbsp;seed)</code></th>
<td class="colLast">
<div class="block">Initialises the approximator, providing a new seed to the underlying <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true" title="class or interface in it.unimi.dsi.util" class="externalLink"><code>HyperLogLogCounterArray</code></a>.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#iterate()">iterate</a></span>()</code></th>
<td class="colLast">
<div class="block">Performs a new iteration of HyperBall.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#main(java.lang.String%5B%5D)">main</a></span>&#8203;(java.lang.String[]&nbsp;arg)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#modified()">modified</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the number of HyperLogLog counters that were modified by the last call to <a href="#iterate()"><code>iterate()</code></a>.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#run()">run</a></span>()</code></th>
<td class="colLast">
<div class="block">Runs HyperBall.</div>
</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#run(long)">run</a></span>&#8203;(long&nbsp;upperBound)</code></th>
<td class="colLast">
<div class="block">Runs HyperBall.</div>
</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#run(long,double)">run</a></span>&#8203;(long&nbsp;upperBound,
   double&nbsp;threshold)</code></th>
<td class="colLast">
<div class="block">Runs HyperBall.</div>
</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#run(long,double,long)">run</a></span>&#8203;(long&nbsp;upperBound,
   double&nbsp;threshold,
   long&nbsp;seed)</code></th>
<td class="colLast">
<div class="block">Runs HyperBall.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.it.unimi.dsi.util.HyperLogLogCounterArray">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;it.unimi.dsi.util.<a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true" title="class or interface in it.unimi.dsi.util" class="externalLink">HyperLogLogCounterArray</a></h3>
<code><a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#add(long,long)" title="class or interface in it.unimi.dsi.util" class="externalLink">add</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#chunk(long)" title="class or interface in it.unimi.dsi.util" class="externalLink">chunk</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#clear()" title="class or interface in it.unimi.dsi.util" class="externalLink">clear</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#clear(long)" title="class or interface in it.unimi.dsi.util" class="externalLink">clear</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#count(long)" title="class or interface in it.unimi.dsi.util" class="externalLink">count</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#count(long%5B%5D,long)" title="class or interface in it.unimi.dsi.util" class="externalLink">count</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#getCounter(long%5B%5D,long,long%5B%5D)" title="class or interface in it.unimi.dsi.util" class="externalLink">getCounter</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#getCounter(long,long%5B%5D)" title="class or interface in it.unimi.dsi.util" class="externalLink">getCounter</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#log2NumberOfRegisters(double)" title="class or interface in it.unimi.dsi.util" class="externalLink">log2NumberOfRegisters</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#max(long%5B%5D,long%5B%5D)" title="class or interface in it.unimi.dsi.util" class="externalLink">max</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#max(long%5B%5D,long%5B%5D,long%5B%5D,long%5B%5D)" title="class or interface in it.unimi.dsi.util" class="externalLink">max</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#offset(long)" title="class or interface in it.unimi.dsi.util" class="externalLink">offset</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#registers()" title="class or interface in it.unimi.dsi.util" class="externalLink">registers</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#registerSize(long)" title="class or interface in it.unimi.dsi.util" class="externalLink">registerSize</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#relativeStandardDeviation(int)" title="class or interface in it.unimi.dsi.util" class="externalLink">relativeStandardDeviation</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#setCounter(long%5B%5D,long)" title="class or interface in it.unimi.dsi.util" class="externalLink">setCounter</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#setCounter(long%5B%5D,long%5B%5D,long)" title="class or interface in it.unimi.dsi.util" class="externalLink">setCounter</a>, <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#transfer(long%5B%5D,long%5B%5D,long)" title="class or interface in it.unimi.dsi.util" class="externalLink">transfer</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="ASSERTS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ASSERTS</h4>
<pre>public static final&nbsp;boolean ASSERTS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#it.unimi.dsi.webgraph.algo.HyperBall.ASSERTS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="INV_SQUARE_DISCOUNT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INV_SQUARE_DISCOUNT</h4>
<pre>public static&nbsp;<a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/ints/Int2DoubleFunction.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.ints" class="externalLink">Int2DoubleFunction</a> INV_SQUARE_DISCOUNT</pre>
</li>
</ul>
<a id="INV_LOG_DISCOUNT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INV_LOG_DISCOUNT</h4>
<pre>public static&nbsp;<a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/ints/Int2DoubleFunction.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.ints" class="externalLink">Int2DoubleFunction</a> INV_LOG_DISCOUNT</pre>
</li>
</ul>
<a id="DEFAULT_GRANULARITY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_GRANULARITY</h4>
<pre>public static final&nbsp;int DEFAULT_GRANULARITY</pre>
<div class="block">The default granularity of a task.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#it.unimi.dsi.webgraph.algo.HyperBall.DEFAULT_GRANULARITY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="DEFAULT_BUFFER_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_BUFFER_SIZE</h4>
<pre>public static final&nbsp;int DEFAULT_BUFFER_SIZE</pre>
<div class="block">The default size of a buffer in bytes.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#it.unimi.dsi.webgraph.algo.HyperBall.DEFAULT_BUFFER_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="gotTranspose">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gotTranspose</h4>
<pre>protected final&nbsp;boolean gotTranspose</pre>
<div class="block">True if we have the transpose graph.</div>
</li>
</ul>
<a id="weight">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>weight</h4>
<pre>protected final&nbsp;int[] weight</pre>
<div class="block">An array of nonnegative node weights, or <code>null</code>.</div>
</li>
</ul>
<a id="systolic">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>systolic</h4>
<pre>protected&nbsp;boolean systolic</pre>
<div class="block">True if we started a systolic computation.</div>
</li>
</ul>
<a id="preLocal">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preLocal</h4>
<pre>protected&nbsp;boolean preLocal</pre>
<div class="block">True if we are preparing a local computation (we are <a href="#systolic"><code>systolic</code></a> and less than 1% nodes were modified).</div>
</li>
</ul>
<a id="local">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>local</h4>
<pre>protected&nbsp;boolean local</pre>
<div class="block">True if we started a local computation.</div>
</li>
</ul>
<a id="doSumOfDistances">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doSumOfDistances</h4>
<pre>protected final&nbsp;boolean doSumOfDistances</pre>
<div class="block">Whether the sum of distances from each node (inverse of <strong>positive</strong> closeness centrality) should be computed; if false, <a href="#sumOfDistances"><code>sumOfDistances</code></a> is <code>null</code>.</div>
</li>
</ul>
<a id="doSumOfInverseDistances">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doSumOfInverseDistances</h4>
<pre>protected&nbsp;boolean doSumOfInverseDistances</pre>
<div class="block">Whether the sum of inverse distances from each node (<strong>positive</strong> harmonic centrality) should be computed; if false, <a href="#sumOfInverseDistances"><code>sumOfInverseDistances</code></a> is <code>null</code>.</div>
</li>
</ul>
<a id="neighbourhoodFunction">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>neighbourhoodFunction</h4>
<pre>public final&nbsp;<a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/doubles/DoubleArrayList.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.doubles" class="externalLink">DoubleArrayList</a> neighbourhoodFunction</pre>
<div class="block">The neighbourhood function, if requested.</div>
</li>
</ul>
<a id="sumOfDistances">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sumOfDistances</h4>
<pre>public final&nbsp;float[] sumOfDistances</pre>
<div class="block">The sum of the distances from every given node, if requested.</div>
</li>
</ul>
<a id="sumOfInverseDistances">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sumOfInverseDistances</h4>
<pre>public final&nbsp;float[] sumOfInverseDistances</pre>
<div class="block">The sum of inverse distances from each given node, if requested.</div>
</li>
</ul>
<a id="discountFunction">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discountFunction</h4>
<pre>public final&nbsp;<a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/ints/Int2DoubleFunction.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.ints" class="externalLink">Int2DoubleFunction</a>[] discountFunction</pre>
<div class="block">A number of discounted centralities to be computed, possibly none.</div>
</li>
</ul>
<a id="discountedCentrality">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discountedCentrality</h4>
<pre>public final&nbsp;float[][] discountedCentrality</pre>
<div class="block">The overall discounted centrality, for every <a href="#discountFunction"><code>discountFunction</code></a>.</div>
</li>
</ul>
<a id="numNodes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numNodes</h4>
<pre>protected final&nbsp;int numNodes</pre>
<div class="block">The number of nodes of the graph, cached.</div>
</li>
</ul>
<a id="numArcs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numArcs</h4>
<pre>protected&nbsp;long numArcs</pre>
<div class="block">The number of arcs of the graph, cached.</div>
</li>
</ul>
<a id="squareNumNodes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>squareNumNodes</h4>
<pre>protected final&nbsp;double squareNumNodes</pre>
<div class="block">The square of <a href="#numNodes"><code>numNodes</code></a>, cached.</div>
</li>
</ul>
<a id="numberOfThreads">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numberOfThreads</h4>
<pre>protected final&nbsp;int numberOfThreads</pre>
<div class="block">The number of cores used in the computation.</div>
</li>
</ul>
<a id="bufferSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bufferSize</h4>
<pre>protected final&nbsp;int bufferSize</pre>
<div class="block">The size of an I/O buffer, in counters.</div>
</li>
</ul>
<a id="granularity">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>granularity</h4>
<pre>protected final&nbsp;int granularity</pre>
<div class="block">The number of actually scanned nodes per task in a multithreaded environment. <strong>Must</strong> be a multiple of <code>Long.SIZE</code>.</div>
</li>
</ul>
<a id="adaptiveGranularity">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>adaptiveGranularity</h4>
<pre>protected&nbsp;long adaptiveGranularity</pre>
<div class="block">The number of nodes per task (obtained by adapting <a href="#granularity"><code>granularity</code></a> to the current ratio of modified nodes). <strong>Must</strong> be a multiple of <code>Long.SIZE</code>.</div>
</li>
</ul>
<a id="last">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>last</h4>
<pre>protected&nbsp;double last</pre>
<div class="block">The value computed by the last iteration.</div>
</li>
</ul>
<a id="current">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>current</h4>
<pre>protected&nbsp;double current</pre>
<div class="block">The value computed by the current iteration.</div>
</li>
</ul>
<a id="iteration">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>iteration</h4>
<pre>protected&nbsp;int iteration</pre>
<div class="block">The current iteration.</div>
</li>
</ul>
<a id="updateFile">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateFile</h4>
<pre>protected final&nbsp;java.io.File updateFile</pre>
<div class="block">If <a href="#external"><code>external</code></a> is true, the name of the temporary file that will be used to write the update list.</div>
</li>
</ul>
<a id="fileChannel">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fileChannel</h4>
<pre>protected final&nbsp;java.nio.channels.FileChannel fileChannel</pre>
<div class="block">If <a href="#external"><code>external</code></a> is true, a file channel used to write to the update list.</div>
</li>
</ul>
<a id="randomAccessFile">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>randomAccessFile</h4>
<pre>protected&nbsp;java.io.RandomAccessFile randomAccessFile</pre>
<div class="block">If <a href="#external"><code>external</code></a> is true, the random-access file underlying <a href="#fileChannel"><code>fileChannel</code></a>.</div>
</li>
</ul>
<a id="cumulativeOutdegrees">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cumulativeOutdegrees</h4>
<pre>protected final&nbsp;<a href="EliasFanoCumulativeOutdegreeList.html" title="class in it.unimi.dsi.webgraph.algo">EliasFanoCumulativeOutdegreeList</a> cumulativeOutdegrees</pre>
<div class="block">The cumulative list of outdegrees.</div>
</li>
</ul>
<a id="pl">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pl</h4>
<pre>protected final&nbsp;<a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html?is-external=true" title="class or interface in it.unimi.dsi.logging" class="externalLink">ProgressLogger</a> pl</pre>
<div class="block">A progress logger, or <code>null</code>.</div>
</li>
</ul>
<a id="lock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>protected final&nbsp;java.util.concurrent.locks.ReentrantLock lock</pre>
<div class="block">The lock protecting all critical sections.</div>
</li>
</ul>
<a id="allWaiting">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allWaiting</h4>
<pre>protected final&nbsp;java.util.concurrent.locks.Condition allWaiting</pre>
<div class="block">A condition that is notified when all iteration threads are waiting to be started.</div>
</li>
</ul>
<a id="start">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>protected final&nbsp;java.util.concurrent.locks.Condition start</pre>
<div class="block">The condition on which all iteration threads wait before starting a new phase.</div>
</li>
</ul>
<a id="phase">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>phase</h4>
<pre>public&nbsp;int phase</pre>
<div class="block">The current computation phase.</div>
</li>
</ul>
<a id="closed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closed</h4>
<pre>protected&nbsp;boolean closed</pre>
<div class="block">Whether this approximator has been already closed.</div>
</li>
</ul>
<a id="thread">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>thread</h4>
<pre>protected final&nbsp;it.unimi.dsi.webgraph.algo.HyperBall.IterationThread[] thread</pre>
<div class="block">The threads performing the computation.</div>
</li>
</ul>
<a id="nodes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nodes</h4>
<pre>protected final&nbsp;java.util.concurrent.atomic.AtomicInteger nodes</pre>
<div class="block">An atomic integer keeping track of the number of node processed so far.</div>
</li>
</ul>
<a id="arcs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>arcs</h4>
<pre>protected final&nbsp;java.util.concurrent.atomic.AtomicLong arcs</pre>
<div class="block">An atomic integer keeping track of the number of arcs processed so far.</div>
</li>
</ul>
<a id="aliveThreads">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>aliveThreads</h4>
<pre>protected volatile&nbsp;int aliveThreads</pre>
<div class="block">A variable used to wait for all threads to complete their iteration.</div>
</li>
</ul>
<a id="completed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>completed</h4>
<pre>protected volatile&nbsp;boolean completed</pre>
<div class="block">True if the computation is over.</div>
</li>
</ul>
<a id="numberOfWrites">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numberOfWrites</h4>
<pre>protected volatile&nbsp;long numberOfWrites</pre>
<div class="block">Total number of write operation performed on <a href="#fileChannel"><code>fileChannel</code></a>.</div>
</li>
</ul>
<a id="totalIoMillis">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>totalIoMillis</h4>
<pre>protected volatile&nbsp;long totalIoMillis</pre>
<div class="block">Total wait time in milliseconds of I/O activity on <a href="#fileChannel"><code>fileChannel</code></a>.</div>
</li>
</ul>
<a id="nextNode">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextNode</h4>
<pre>protected&nbsp;int nextNode</pre>
<div class="block">The starting node of the next chunk of nodes to be processed.</div>
</li>
</ul>
<a id="nextArcs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextArcs</h4>
<pre>protected&nbsp;long nextArcs</pre>
<div class="block">The number of arcs before <a href="#nextNode"><code>nextNode</code></a>.</div>
</li>
</ul>
<a id="modified">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>modified</h4>
<pre>protected final&nbsp;java.util.concurrent.atomic.AtomicInteger modified</pre>
<div class="block">The number of register modified by the last call to <a href="#iterate()"><code>iterate()</code></a>.</div>
</li>
</ul>
<a id="unwritten">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unwritten</h4>
<pre>protected final&nbsp;java.util.concurrent.atomic.AtomicInteger unwritten</pre>
<div class="block">Counts the number of unwritten entries when <a href="#external"><code>external</code></a> is true, or
 the number of counters that did not change their value.</div>
</li>
</ul>
<a id="relativeIncrement">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>relativeIncrement</h4>
<pre>protected&nbsp;double relativeIncrement</pre>
<div class="block">The relative increment of the neighbourhood function for the last iteration.</div>
</li>
</ul>
<a id="external">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>external</h4>
<pre>protected&nbsp;boolean external</pre>
<div class="block">Whether we should used an update list on disk, instead of computing results in core memory.</div>
</li>
</ul>
<a id="resultBits">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resultBits</h4>
<pre>protected final&nbsp;long[][] resultBits</pre>
<div class="block">If <a href="#external"><code>external</code></a> is false, the arrays where results are stored.</div>
</li>
</ul>
<a id="resultRegisters">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resultRegisters</h4>
<pre>protected final&nbsp;<a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/longs/LongBigList.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.longs" class="externalLink">LongBigList</a>[] resultRegisters</pre>
<div class="block">If <a href="#external"><code>external</code></a> is false, a <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#registerSize" title="class or interface in it.unimi.dsi.util" class="externalLink"><code>HyperLogLogCounterArray.registerSize</code></a>-bit views of <a href="#resultBits"><code>resultBits</code></a>.</div>
</li>
</ul>
<a id="modifiedCounter">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>modifiedCounter</h4>
<pre>protected&nbsp;boolean[] modifiedCounter</pre>
<div class="block">For each counter, whether it has changed its value. We use an array of boolean (instead of a <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/bits/LongArrayBitVector.html?is-external=true" title="class or interface in it.unimi.dsi.bits" class="externalLink"><code>LongArrayBitVector</code></a>) just for access speed.</div>
</li>
</ul>
<a id="modifiedResultCounter">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>modifiedResultCounter</h4>
<pre>protected&nbsp;boolean[] modifiedResultCounter</pre>
<div class="block">For each newly computed counter, whether it has changed its value. <a href="#modifiedCounter"><code>modifiedCounter</code></a>
 will be updated with the content of this bit vector by the end of the iteration.</div>
</li>
</ul>
<a id="nextMustBeChecked">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextMustBeChecked</h4>
<pre>protected&nbsp;boolean[] nextMustBeChecked</pre>
<div class="block">For each counter, whether it has changed its value. We use an array of boolean (instead of a <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/bits/LongArrayBitVector.html?is-external=true" title="class or interface in it.unimi.dsi.bits" class="externalLink"><code>LongArrayBitVector</code></a>) just for access speed.</div>
</li>
</ul>
<a id="mustBeChecked">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mustBeChecked</h4>
<pre>protected&nbsp;boolean[] mustBeChecked</pre>
<div class="block">For each newly computed counter, whether it has changed its value. <a href="#modifiedCounter"><code>modifiedCounter</code></a>
 will be updated with the content of this bit vector by the end of the iteration.</div>
</li>
</ul>
<a id="localCheckList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>localCheckList</h4>
<pre>protected&nbsp;int[] localCheckList</pre>
<div class="block">If <a href="#local"><code>local</code></a> is true, the sorted list of nodes that should be scanned.</div>
</li>
</ul>
<a id="localNextMustBeChecked">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>localNextMustBeChecked</h4>
<pre>protected final&nbsp;<a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/ints/IntSet.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.ints" class="externalLink">IntSet</a> localNextMustBeChecked</pre>
<div class="block">If <a href="#preLocal"><code>preLocal</code></a> is true, the set of nodes that should be scanned on the next iteration. Note that this set is synchronized.</div>
</li>
</ul>
<a id="threadThrowable">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>threadThrowable</h4>
<pre>protected volatile&nbsp;java.lang.Throwable threadThrowable</pre>
<div class="block">One of the throwables thrown by some of the threads, if at least one thread has thrown a throwable.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(it.unimi.dsi.webgraph.ImmutableGraph,it.unimi.dsi.webgraph.ImmutableGraph,int,it.unimi.dsi.logging.ProgressLogger,int,int,int,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HyperBall</h4>
<pre>public&nbsp;HyperBall&#8203;(<a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;g,
                 <a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;gt,
                 int&nbsp;log2m,
                 <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html?is-external=true" title="class or interface in it.unimi.dsi.logging" class="externalLink">ProgressLogger</a>&nbsp;pl,
                 int&nbsp;numberOfThreads,
                 int&nbsp;bufferSize,
                 int&nbsp;granularity,
                 boolean&nbsp;external)
          throws java.io.IOException</pre>
<div class="block">Creates a new HyperBall instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>g</code> - the graph whose neighbourhood function you want to compute.</dd>
<dd><code>gt</code> - the transpose of <code>g</code> in case you want to perform systolic computations, or <code>null</code>.</dd>
<dd><code>log2m</code> - the logarithm of the number of registers per counter.</dd>
<dd><code>pl</code> - a progress logger, or <code>null</code>.</dd>
<dd><code>numberOfThreads</code> - the number of threads to be used (0 for automatic sizing).</dd>
<dd><code>bufferSize</code> - the size of an I/O buffer in bytes (0 for <a href="#DEFAULT_BUFFER_SIZE"><code>DEFAULT_BUFFER_SIZE</code></a>).</dd>
<dd><code>granularity</code> - the number of node per task in a multicore environment (it will be rounded to the next multiple of 64), or 0 for <a href="#DEFAULT_GRANULARITY"><code>DEFAULT_GRANULARITY</code></a>.</dd>
<dd><code>external</code> - if true, results of an iteration will be stored on disk.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(it.unimi.dsi.webgraph.ImmutableGraph,it.unimi.dsi.webgraph.ImmutableGraph,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HyperBall</h4>
<pre>public&nbsp;HyperBall&#8203;(<a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;g,
                 <a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;gt,
                 int&nbsp;log2m)
          throws java.io.IOException</pre>
<div class="block">Creates a new HyperBall instance using default values.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>g</code> - the graph whose neighbourhood function you want to compute.</dd>
<dd><code>gt</code> - the transpose of <code>g</code> in case you want to perform systolic computations, or <code>null</code>.</dd>
<dd><code>log2m</code> - the logarithm of the number of registers per counter.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(it.unimi.dsi.webgraph.ImmutableGraph,it.unimi.dsi.webgraph.ImmutableGraph,int,it.unimi.dsi.logging.ProgressLogger)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HyperBall</h4>
<pre>public&nbsp;HyperBall&#8203;(<a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;g,
                 <a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;gt,
                 int&nbsp;log2m,
                 <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html?is-external=true" title="class or interface in it.unimi.dsi.logging" class="externalLink">ProgressLogger</a>&nbsp;pl)
          throws java.io.IOException</pre>
<div class="block">Creates a new HyperBall instance using default values.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>g</code> - the graph whose neighbourhood function you want to compute.</dd>
<dd><code>gt</code> - the transpose of <code>g</code> in case you want to perform systolic computations, or <code>null</code>.</dd>
<dd><code>log2m</code> - the logarithm of the number of registers per counter.</dd>
<dd><code>pl</code> - a progress logger, or <code>null</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(it.unimi.dsi.webgraph.ImmutableGraph,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HyperBall</h4>
<pre>public&nbsp;HyperBall&#8203;(<a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;g,
                 int&nbsp;log2m)
          throws java.io.IOException</pre>
<div class="block">Creates a new HyperBall instance using default values and disabling systolic computation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>g</code> - the graph whose neighbourhood function you want to compute.</dd>
<dd><code>log2m</code> - the logarithm of the number of registers per counter.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(it.unimi.dsi.webgraph.ImmutableGraph,int,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HyperBall</h4>
<pre>public&nbsp;HyperBall&#8203;(<a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;g,
                 int&nbsp;log2m,
                 long&nbsp;seed)
          throws java.io.IOException</pre>
<div class="block">Creates a new HyperBall instance using default values and disabling systolic computation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>g</code> - the graph whose neighbourhood function you want to compute.</dd>
<dd><code>log2m</code> - the logarithm of the number of registers per counter.</dd>
<dd><code>seed</code> - the random seed passed to <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#%3Cinit%3E(long,long,int,long)" title="class or interface in it.unimi.dsi.util" class="externalLink"><code>HyperLogLogCounterArray(long, long, int, long)</code></a>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(it.unimi.dsi.webgraph.ImmutableGraph,int,it.unimi.dsi.logging.ProgressLogger)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HyperBall</h4>
<pre>public&nbsp;HyperBall&#8203;(<a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;g,
                 int&nbsp;log2m,
                 <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html?is-external=true" title="class or interface in it.unimi.dsi.logging" class="externalLink">ProgressLogger</a>&nbsp;pl)
          throws java.io.IOException</pre>
<div class="block">Creates a new HyperBall instance using default values and disabling systolic computation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>g</code> - the graph whose neighbourhood function you want to compute.</dd>
<dd><code>log2m</code> - the logarithm of the number of registers per counter.</dd>
<dd><code>pl</code> - a progress logger, or <code>null</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(it.unimi.dsi.webgraph.ImmutableGraph,it.unimi.dsi.webgraph.ImmutableGraph,int,it.unimi.dsi.logging.ProgressLogger,int,int,int,boolean,boolean,boolean,it.unimi.dsi.fastutil.ints.Int2DoubleFunction[],long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HyperBall</h4>
<pre>public&nbsp;HyperBall&#8203;(<a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;g,
                 <a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;gt,
                 int&nbsp;log2m,
                 <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html?is-external=true" title="class or interface in it.unimi.dsi.logging" class="externalLink">ProgressLogger</a>&nbsp;pl,
                 int&nbsp;numberOfThreads,
                 int&nbsp;bufferSize,
                 int&nbsp;granularity,
                 boolean&nbsp;external,
                 boolean&nbsp;doSumOfDistances,
                 boolean&nbsp;doSumOfInverseDistances,
                 <a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/ints/Int2DoubleFunction.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.ints" class="externalLink">Int2DoubleFunction</a>[]&nbsp;discountFunction,
                 long&nbsp;seed)
          throws java.io.IOException</pre>
<div class="block">Creates a new HyperBall instance without weights.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>g</code> - the graph whose neighbourhood function you want to compute.</dd>
<dd><code>gt</code> - the transpose of <code>g</code>, or <code>null</code>.</dd>
<dd><code>log2m</code> - the logarithm of the number of registers per counter.</dd>
<dd><code>pl</code> - a progress logger, or <code>null</code>.</dd>
<dd><code>numberOfThreads</code> - the number of threads to be used (0 for automatic sizing).</dd>
<dd><code>bufferSize</code> - the size of an I/O buffer in bytes (0 for <a href="#DEFAULT_BUFFER_SIZE"><code>DEFAULT_BUFFER_SIZE</code></a>).</dd>
<dd><code>granularity</code> - the number of node per task in a multicore environment (it will be rounded to the next multiple of 64), or 0 for <a href="#DEFAULT_GRANULARITY"><code>DEFAULT_GRANULARITY</code></a>.</dd>
<dd><code>external</code> - if true, results of an iteration will be stored on disk.</dd>
<dd><code>doSumOfDistances</code> - whether the sum of distances from each node should be computed.</dd>
<dd><code>doSumOfInverseDistances</code> - whether the sum of inverse distances from each node should be computed.</dd>
<dd><code>discountFunction</code> - an array (possibly <code>null</code>) of discount functions.</dd>
<dd><code>seed</code> - the random seed passed to <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#%3Cinit%3E(long,long,int,long)" title="class or interface in it.unimi.dsi.util" class="externalLink"><code>HyperLogLogCounterArray(long, long, int, long)</code></a>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(it.unimi.dsi.webgraph.ImmutableGraph,it.unimi.dsi.webgraph.ImmutableGraph,int,it.unimi.dsi.logging.ProgressLogger,int,int,int,boolean,boolean,boolean,it.unimi.dsi.fastutil.ints.Int2DoubleFunction[],int[],long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HyperBall</h4>
<pre>public&nbsp;HyperBall&#8203;(<a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;g,
                 <a href="../ImmutableGraph.html" title="class in it.unimi.dsi.webgraph">ImmutableGraph</a>&nbsp;gt,
                 int&nbsp;log2m,
                 <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/logging/ProgressLogger.html?is-external=true" title="class or interface in it.unimi.dsi.logging" class="externalLink">ProgressLogger</a>&nbsp;pl,
                 int&nbsp;numberOfThreads,
                 int&nbsp;bufferSize,
                 int&nbsp;granularity,
                 boolean&nbsp;external,
                 boolean&nbsp;doSumOfDistances,
                 boolean&nbsp;doSumOfInverseDistances,
                 <a href="https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/ints/Int2DoubleFunction.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.ints" class="externalLink">Int2DoubleFunction</a>[]&nbsp;discountFunction,
                 int[]&nbsp;weight,
                 long&nbsp;seed)
          throws java.io.IOException</pre>
<div class="block">Creates a new HyperBall instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>g</code> - the graph whose neighbourhood function you want to compute.</dd>
<dd><code>gt</code> - the transpose of <code>g</code>, or <code>null</code>.</dd>
<dd><code>log2m</code> - the logarithm of the number of registers per counter.</dd>
<dd><code>pl</code> - a progress logger, or <code>null</code>.</dd>
<dd><code>numberOfThreads</code> - the number of threads to be used (0 for automatic sizing).</dd>
<dd><code>bufferSize</code> - the size of an I/O buffer in bytes (0 for <a href="#DEFAULT_BUFFER_SIZE"><code>DEFAULT_BUFFER_SIZE</code></a>).</dd>
<dd><code>granularity</code> - the number of node per task in a multicore environment (it will be rounded to the next multiple of 64), or 0 for <a href="#DEFAULT_GRANULARITY"><code>DEFAULT_GRANULARITY</code></a>.</dd>
<dd><code>external</code> - if true, results of an iteration will be stored on disk.</dd>
<dd><code>doSumOfDistances</code> - whether the sum of distances from each node should be computed.</dd>
<dd><code>doSumOfInverseDistances</code> - whether the sum of inverse distances from each node should be computed.</dd>
<dd><code>discountFunction</code> - an array (possibly <code>null</code>) of discount functions.</dd>
<dd><code>weight</code> - an array of nonnegative node weights.</dd>
<dd><code>seed</code> - the random seed passed to <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#%3Cinit%3E(long,long,int,long)" title="class or interface in it.unimi.dsi.util" class="externalLink"><code>HyperLogLogCounterArray(long, long, int, long)</code></a>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="ensureRegisters(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureRegisters</h4>
<pre class="methodSignature">protected static final&nbsp;int&nbsp;ensureRegisters&#8203;(int&nbsp;log2m)</pre>
</li>
</ul>
<a id="init()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;init()</pre>
<div class="block">Initialises the approximator.

 <p>This method must be call before a series of <a href="#iterate()">iterations</a>.
 Note that it will <em>not</em> change the seed used by the underlying <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true" title="class or interface in it.unimi.dsi.util" class="externalLink"><code>HyperLogLogCounterArray</code></a>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#init(long)"><code>init(long)</code></a></dd>
</dl>
</li>
</ul>
<a id="init(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;init&#8203;(long&nbsp;seed)</pre>
<div class="block">Initialises the approximator, providing a new seed to the underlying <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true" title="class or interface in it.unimi.dsi.util" class="externalLink"><code>HyperLogLogCounterArray</code></a>.

 <p>This method must be call before a series of <a href="#iterate()">iterations</a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>seed</code> - passed to <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#clear(long)" title="class or interface in it.unimi.dsi.util" class="externalLink"><code>HyperLogLogCounterArray.clear(long)</code></a>.</dd>
</dl>
</li>
</ul>
<a id="expand(long[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expand</h4>
<pre class="methodSignature">public&nbsp;long[]&nbsp;expand&#8203;(long[]&nbsp;bits)</pre>
</li>
</ul>
<a id="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;close()
           throws java.io.IOException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.io.Closeable</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="finalize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalize</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;finalize()
                 throws java.lang.Throwable</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>finalize</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Throwable</code></dd>
</dl>
</li>
</ul>
<a id="iterate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>iterate</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;iterate()
             throws java.io.IOException</pre>
<div class="block">Performs a new iteration of HyperBall.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="modified()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>modified</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;modified()</pre>
<div class="block">Returns the number of HyperLogLog counters that were modified by the last call to <a href="#iterate()"><code>iterate()</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of HyperLogLog counters that were modified by the last call to <a href="#iterate()"><code>iterate()</code></a>.</dd>
</dl>
</li>
</ul>
<a id="run()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;run()
         throws java.io.IOException</pre>
<div class="block">Runs HyperBall. The computation will stop when <a href="#modified()"><code>modified()</code></a> returns false.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="run(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;run&#8203;(long&nbsp;upperBound)
         throws java.io.IOException</pre>
<div class="block">Runs HyperBall.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>upperBound</code> - an upper bound to the number of iterations.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="run(long,double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;run&#8203;(long&nbsp;upperBound,
                double&nbsp;threshold)
         throws java.io.IOException</pre>
<div class="block">Runs HyperBall.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>upperBound</code> - an upper bound to the number of iterations.</dd>
<dd><code>threshold</code> - a value that will be used to stop the computation by relative increment if the neighbourhood function is being computed; if you specify -1,
 the computation will stop when <a href="#modified()"><code>modified()</code></a> returns false.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="run(long,double,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;run&#8203;(long&nbsp;upperBound,
                double&nbsp;threshold,
                long&nbsp;seed)
         throws java.io.IOException</pre>
<div class="block">Runs HyperBall.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>upperBound</code> - an upper bound to the number of iterations.</dd>
<dd><code>threshold</code> - a value that will be used to stop the computation by relative increment if the neighbourhood function is being computed; if you specify -1,
 the computation will stop when <a href="#modified()"><code>modified()</code></a> returns false.</dd>
<dd><code>seed</code> - the random seed passed to <a href="https://dsiutils.di.unimi.it/docs/it/unimi/dsi/util/HyperLogLogCounterArray.html?is-external=true#%3Cinit%3E(long,long,int,long)" title="class or interface in it.unimi.dsi.util" class="externalLink"><code>HyperLogLogCounterArray(long, long, int, long)</code></a>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;main&#8203;(java.lang.String[]&nbsp;arg)
                 throws java.io.IOException,
                        com.martiansoftware.jsap.JSAPException,
                        java.lang.IllegalArgumentException,
                        java.lang.ClassNotFoundException,
                        java.lang.IllegalAccessException,
                        java.lang.reflect.InvocationTargetException,
                        java.lang.InstantiationException,
                        java.lang.NoSuchMethodException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>com.martiansoftware.jsap.JSAPException</code></dd>
<dd><code>java.lang.IllegalArgumentException</code></dd>
<dd><code>java.lang.ClassNotFoundException</code></dd>
<dd><code>java.lang.IllegalAccessException</code></dd>
<dd><code>java.lang.reflect.InvocationTargetException</code></dd>
<dd><code>java.lang.InstantiationException</code></dd>
<dd><code>java.lang.NoSuchMethodException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
